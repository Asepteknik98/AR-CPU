<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>AR CPU - Augmented Reality View</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <!-- A-Frame from CDN -->
    <script src="https://aframe.io/releases/1.4.0/aframe.min.js"></script>
    <!-- AR.js from CDN -->
    <script src="https://cdn.jsdelivr.net/npm/ar.js@3/aframe/aframe-ar.min.js"></script>
</head>
<body style="margin: 0; overflow: hidden;">
    
    <!-- AR Scene -->
    <a-scene 
        embedded 
        arjs="detectionMode: mono; debugUIEnabled: true; sourceType: webcam; patternRatio: 0.8;" 
        id="arScene"
        vr-mode-ui="enabled: false">
        
        <!-- Camera -->
        <a-camera position="0 0 0"></a-camera>

        <!-- Marker - HIRO Preset (Tested & Working) -->
        <a-marker preset="hiro" id="marker">
            
            <!-- Motherboard (Box sederhana) -->
            <a-box 
                id="motherboard"
                position="0 0 0"
                scale="1.5 0.3 1.5"
                color="#FF6B9D"
                class="clickable component"
                data-name="Motherboard"
                data-desc="Papan sirkuit utama yang menghubungkan semua komponen">
            </a-box>

            <!-- Processor (Cylinder) -->
            <a-cylinder 
                id="processor"
                position="0 0.5 0"
                radius="0.3"
                height="0.2"
                color="#00A8FF"
                class="clickable component"
                data-name="CPU (Processor)"
                data-desc="Otak komputer yang menjalankan semua instruksi">
            </a-cylinder>

            <!-- RAM (Box kecil 1) -->
            <a-box 
                id="ram"
                position="-0.6 0.5 0"
                scale="0.3 0.8 0.2"
                color="#4CAF50"
                class="clickable component"
                data-name="RAM"
                data-desc="Memori akses cepat untuk proses berjalan">
            </a-box>

            <!-- GPU (Box kecil 2) -->
            <a-box 
                id="gpu"
                position="0.6 0.5 0"
                scale="0.3 0.8 0.2"
                color="#FFC300"
                class="clickable component"
                data-name="GPU (VGA Card)"
                data-desc="Kartu grafis untuk rendering visual dan gaming">
            </a-box>

            <!-- PSU (Sphere) -->
            <a-sphere 
                id="psu"
                position="0 0.3 -0.8"
                radius="0.4"
                color="#9C27B0"
                class="clickable component"
                data-name="PSU (Power Supply)"
                data-desc="Menyediakan tenaga listrik untuk semua komponen">
            </a-sphere>

            <!-- SSD Storage (Box) -->
            <a-box 
                id="ssd"
                position="-0.6 0.3 0.8"
                scale="0.3 0.2 0.5"
                color="#FF5722"
                class="clickable component"
                data-name="SSD Storage"
                data-desc="Penyimpanan cepat untuk sistem dan data">
            </a-box>

            <!-- HDD Storage (Box) -->
            <a-box 
                id="hdd"
                position="0.6 0.3 0.8"
                scale="0.3 0.2 0.5"
                color="#F44336"
                class="clickable component"
                data-name="HDD Storage"
                data-desc="Penyimpanan kapasitas besar dengan kecepatan lebih lambat">
            </a-box>

            <!-- Heatsink (Cone) -->
            <a-cone 
                id="heatsink"
                position="0 1.2 0"
                radius-bottom="0.5"
                radius-top="0"
                height="0.8"
                color="#2196F3"
                class="clickable component"
                data-name="Heatsink & Fan"
                data-desc="Sistem pendingin untuk CPU dan GPU">
            </a-cone>

            <!-- CPU Socket (Torus) -->
            <a-torus 
                id="cpuSocket"
                position="-0.3 0.2 -0.5"
                radius="0.4"
                radius-tubular="0.1"
                color="#E91E63"
                class="clickable component"
                data-name="CPU Socket"
                data-desc="Socket penempatan untuk prosesor">
            </a-torus>

            <!-- Chipset (Dodecahedron) -->
            <a-dodecahedron 
                id="chipset"
                position="0.3 0.2 -0.5"
                radius="0.3"
                color="#673AB7"
                class="clickable component"
                data-name="Chipset"
                data-desc="Mengatur komunikasi antara CPU dan perangkat lainnya">
            </a-dodecahedron>

        </a-marker>

        <!-- Fallback plane jika marker tidak terdeteksi -->
        <a-plane 
            position="0 0 -4" 
            rotation="-90 0 0" 
            width="4" 
            height="4" 
            color="#7BC8A4"
            opacity="0.3">
        </a-plane>
        
        <a-sky color="#87CEEB"></a-sky>

    </a-scene>

    <!-- Info Panel -->
    <div id="infoPanel" class="info-panel hidden">
        <div class="info-header">
            <h3 id="componentName">Component Name</h3>
            <button id="closeInfo" class="close-btn">
                <i class="fas fa-times"></i>
            </button>
        </div>
        <div class="info-body">
            <p id="componentDesc">Component description will appear here</p>
        </div>
    </div>

    <!-- Control Panel -->
    <div class="control-panel">
        <div class="control-group">
            <button id="btnReset" class="control-btn" title="Reset View">
                <i class="fas fa-redo"></i>
            </button>
            <button id="btnZoomIn" class="control-btn" title="Zoom In">
                <i class="fas fa-plus"></i>
            </button>
            <button id="btnZoomOut" class="control-btn" title="Zoom Out">
                <i class="fas fa-minus"></i>
            </button>
        </div>
        <div class="control-group">
            <button id="btnToggleLabels" class="control-btn" title="Toggle Labels">
                <i class="fas fa-tags"></i>
            </button>
            <button id="btnHome" class="control-btn" title="Back to Home">
                <i class="fas fa-home"></i>
            </button>
        </div>
    </div>

    <!-- Loading Indicator -->
    <div id="loadingIndicator" class="loading-indicator">
        <div class="spinner"></div>
        <p>Inisialisasi AR...</p>
    </div>

    <!-- Instruction Panel -->
    <div class="instruction-panel">
        <div class="instruction-content">
            <i class="fas fa-lightbulb"></i>
            <p><strong>üìç Gunakan HIRO Marker!</strong> Download atau cetak marker dari link di bawah</p>
            <button id="dismissInstruction" class="btn-dismiss">Mengerti</button>
        </div>
    </div>

    <!-- Debugging Panel -->
    <div style="position: fixed; top: 80px; left: 20px; background: rgba(0,0,0,0.8); color: #00FF00; padding: 12px; border-radius: 8px; font-size: 12px; z-index: 99; max-width: 280px; font-family: monospace; border: 2px solid #00FF00;">
        <p style="margin: 0 0 8px 0;"><strong>‚öôÔ∏è DEBUGGING INFO</strong></p>
        <p style="margin: 0 0 5px 0;">‚úì Debug UI: <strong>ENABLED</strong></p>
        <p style="margin: 0 0 5px 0;">‚úì Webcam: Periksa izin</p>
        <p style="margin: 0 0 5px 0;">‚úì Marker: HIRO (bawaan)</p>
        <p style="margin: 0 0 5px 0;">‚úì Pencahayaan: ‚òÖ‚òÖ‚òÖ‚òÖ</p>
        <p style="margin-top: 10px; border-top: 1px solid #00FF00; padding-top: 8px; margin-bottom: 0;">
            <a href="HIRO.png" download="HIRO.png" style="color: #00FF00; text-decoration: underline;">üì• Download HIRO Marker</a><br/>
            Cetak: 10cm x 10cm
        </p>
    </div>

    <script src="script.js"></script>
</body>
</html>
